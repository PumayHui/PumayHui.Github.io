---
layout:     post
title:      "ZooKeeper学习"
date:       2017-12-28 13:44:05
author:     "Pumay"
header-img: "img/star.png"
catalog: true
tags:
    - Big data and analytics
    
---


# 一. 什么是ZooKeeper？

动物园管理员，就相当于是把集群中的客户端当作许多小动物，管理员的作用就是维持他们的秩序，提供他们食物，当某小动物出现状况，如生病、脱毛等一系列现象，管理员自然会知道，并传达给其他动物这个消息，其他动物就不会再拉着这个小动物玩，会让它好好休息。

一个开源的分布式应用协调系统，用来完成统一命名服务、状态同步服务、集群管理、分布式应用配置项的管理等工作。

## 1.什么是分布式应用程序

分布式应用程序可以通过在它们之间协调以完成特定的任务，快速且有效的方式在多个系统中的网络在给定时间（同时）运行。
分布式应用程序有两部分，分别是：服务器和客户端应用程序。

## 2.ZooKeeper举栗子

Zookeeper一个最常用的使用场景就是用于担任服务生产者和服务消费者的注册中心，服务生产者将自己提供的**服务注册**到Zookeeper中心，服务的消费者在进行服务调用的时候先到Zookeeper中**查找服务**，获取到服务生产者的详细信息之后，再去**调用服务**生产者的内容与数据，简单示例图如下：

![](/img/in-post/2017-12-28-ZooKeeper/zookeeper_scene.png)


# 二. 设计目标

ZooKeeper封装好复杂易出错的关键服务，将简单易用的接口和性能高效、功能稳定的系统提供给用户。

它允许分布式进程通过共享的层次结构命名空间进行相互协调，这与标准文件系统类似。

名称空间由ZooKeeper中的数据寄存器组成-称为znode，这些类似于文件和目录。与为存储设计的典型文件系统不同，ZooKeeper数据保存在内存中，这意味着ZooKeeper可以实现高吞吐量和低延迟。

Zookeeper层次结构命名空间示意图如下：

![](https://pic4.zhimg.com/50/v2-26df9b73e9b2248fbe2d287904928f41_hd.jpg)

通过这种树图结构的数据模型，很容易的查找到具体的某一个服务。

# 三. 基本操作

    创建节点
    读节点数据
    更新节点数据
    删除节点
    监控节点变化
